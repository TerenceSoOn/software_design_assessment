@startuml
skinparam componentStyle rectangle

package "Client Layer" {
  [Web App] as Web
}

package "Application Server" {
  
  package "API Gateway" {
    [REST API] as REST
    [WebSocket Handler] as WS
  }

  package "Core Services" {
    [User Service] as UserSvc
    [Matchmaking Service] as MatchSvc
    [Chat Service] as ChatSvc
    [Social Service] as SocialSvc
    [Connection Service] as ConnSvc
    
    package "AI Modules" {
      [Safety Detector] as Safety
      [Wingman Generator] as Wingman
      [Sentiment Analyzer] as Sentiment
      [AI Companion Bot] as Companion
      [Miss Ex Simulator] as MissEx
      [Profile Optimizer] as Optimizer
    }
  }
}

package "Data Layer" {
  database "FlirtNet Database" as DB
}

' Client to Gateway
Web --> REST
Web --> WS

' Gateway to Core
REST --> UserSvc
REST --> SocialSvc
REST --> ConnSvc
WS --> ChatSvc
WS --> MatchSvc

' Core to AI (Internal Calls)
ChatSvc --> Safety
ChatSvc --> Wingman
ChatSvc --> Sentiment
MatchSvc --> Companion
MatchSvc --> MissEx
UserSvc --> Optimizer

' Core to Data
UserSvc --> DB
MatchSvc --> DB
ChatSvc --> DB
SocialSvc --> DB
ConnSvc --> DB

@enduml
