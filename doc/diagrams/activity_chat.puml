@startuml
title Activity: Chat & AI Interaction Flow

start
:Start Chat Session;

repeat
  :User types message;
  :Send Message;
  
  if (User reports message?) then (yes)
    :AI Safety Check;
    note right: Detects abuse/harassment
    
    if (Is Violation?) then (yes)
      :Take Action & Warn Violator;
    endif
  endif
  
  if (AI Atmosphere enabled?) then (yes)
    :AI Atmosphere Analysis;
    note right: Updates sentiment score
  endif
  
  if (User requests Wingman?) then (yes)
    :AI generates suggestion;
    :User views suggestion;
  endif
  
repeat while (Chat continues?) is (yes)

stop
@enduml
